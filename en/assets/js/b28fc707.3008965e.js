(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=i.a.createContext({}),l=function(e){var t=i.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=l(e.components);return i.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,b=p(e,["components","mdxType","originalType","parentName"]),s=l(n),d=a,m=s["".concat(c,".").concat(d)]||s[d]||u[d]||r;return n?i.a.createElement(m,o(o({ref:t},b),{},{components:n})):i.a.createElement(m,o({ref:t},b))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,c=new Array(r);c[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,c[1]=o;for(var b=2;b<r;b++)c[b]=n[b];return i.a.createElement.apply(null,c)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},162:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/nuchain-supply-chain-c95c544c0357d8018cf71db9da92c868.png"},96:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return o})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return l}));var a=n(3),i=n(7),r=(n(0),n(103)),c={id:"supply-chain",title:"Supply Chain",sidebar_label:"Supply Chain"},o={unversionedId:"build/supply-chain",id:"build/supply-chain",isDocsHomePage:!1,title:"Supply Chain",description:"Nuchain supports functions for building supply chain systems.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/build/supply-chain.md",sourceDirName:"build",slug:"/build/supply-chain",permalink:"/en/docs/build/supply-chain",editUrl:"https://github.com/nusantarachain/wiki/edit/master/docs/build/supply-chain.md",version:"current",sidebar_label:"Supply Chain",frontMatter:{id:"supply-chain",title:"Supply Chain",sidebar_label:"Supply Chain"},sidebar:"tutorialSidebar",previous:{title:"Digital certificate",permalink:"/en/docs/build/build-certificate"}},p=[{value:"Workflow",id:"workflow",children:[]},{value:"Verification",id:"verification",children:[]},{value:"Notifications",id:"notifications",children:[]},{value:"Demo",id:"demo",children:[]}],b={toc:p};function l(e){var t=e.components,c=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},b,c,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Nuchain supports functions for building supply chain systems."),Object(r.b)("p",null,"The code for building supply chain systems can be found in the following two modules:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/nusantarachain/nuchain/tree/supplychain/frame/product-registry"},"Product Registry"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/nusantarachain/nuchain/tree/supplychain/frame/product-tracking"},"Product Tracking"),".")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"To be able to follow this section make sure you have read the section\n",Object(r.b)("a",{parentName:"p",href:"/en/docs/learn/main"},"Getting Started")," and ",Object(r.b)("a",{parentName:"p",href:"/en/docs/build/build-intro"},"Build"),"."))),Object(r.b)("p",null,"The supply chain system requires organizations as product holders. About the organization and how to create it can be found in section ",Object(r.b)("a",{parentName:"p",href:"/en/docs/build/build-organization"},"Organization")),Object(r.b)("p",null,"Broadly speaking, the supply chain system at Nuchain is controlled by the organization. You can use organizations for:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Product registration."),Object(r.b)("li",{parentName:"ol"},"Registration ",Object(r.b)("em",{parentName:"li"},"tracking"),"."),Object(r.b)("li",{parentName:"ol"},"Grant access for ",Object(r.b)("em",{parentName:"li"},"tracker"),".")),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},Object(r.b)("strong",{parentName:"em"},"Tracker"))," is an entity/individual that can do ",Object(r.b)("em",{parentName:"p"},"update")," status ",Object(r.b)("em",{parentName:"p"},"tracking")," with access permission from the organization via ",Object(r.b)("a",{parentName:"p",href:"/en/docs/build/build-did"},"DID"),"."),Object(r.b)("p",null,Object(r.b)("img",{alt:"Nuchain Supply Chain",src:n(162).default})),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"(image: supply chain in Nuchain)")),Object(r.b)("p",null,"Every ",Object(r.b)("em",{parentName:"p"},"update")," done by ",Object(r.b)("em",{parentName:"p"},"tracker")," will produce ",Object(r.b)("em",{parentName:"p"},"event")," and ",Object(r.b)("em",{parentName:"p"},"event")," will be held by ",Object(r.b)("a",{parentName:"p",href:"/en/docs/general/glossary#off-chain-worker"},"off-chain worker")," to generate notification.Then the notification will be ",Object(r.b)("em",{parentName:"p"},"pushed")," via ",Object(r.b)("em",{parentName:"p"},"webhook"),"."),Object(r.b)("h2",{id:"workflow"},"Workflow"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Registering the product"),", the product needs to be registered by sending a transaction using functions ",Object(r.b)("a",{parentName:"p",href:"/en/docs/learn/learn-extrinsic"},"extrinsic")," ",Object(r.b)("inlineCode",{parentName:"p"},"productRegistry.register")," with parameter:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"id")," - this is the id product. It can be numeric, alpha-numeric, GS1 GTIN (Global Trade Item Number) or ASIN (Amazon Standard Identification Number)."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"org_id")," - is the ID of the organization/agency that represents ownership of the products."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"props")," - a list of data containing key values \u200b\u200bthat describe the product. It usually contains at least the SKU or description of the product. It can also contains other information such as product's content, expiration date, weight, agricultural origin, harvest time, etc."))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Registering tracking"),", the product that will be _track_ed needs to be registered first. Use the function ",Object(r.b)("a",{parentName:"p",href:"/en/docs/learn/learn-extrinsic"},"extrinsic")," ",Object(r.b)("inlineCode",{parentName:"p"},"productTracking.register")," with\nparameter:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"id")," - its ",Object(r.b)("em",{parentName:"li"},"tracking")," id."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"org_id")," - the ID of the organization/agency that represents ownership of the product."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"year")," - ",Object(r.b)("em",{parentName:"li"},"tracking"),' initiation year, e.g. "2021".'),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"products")," - list/array ID of the product to be registered."))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Doing status updates"),", updating the status of each process that has been passed by the product by sending transactions using the function ",Object(r.b)("a",{parentName:"p",href:"/en/docs/learn/learn-extrinsic"},"extrinsic"),"\n",Object(r.b)("inlineCode",{parentName:"p"},"productTracking.updateStatus")," with parameters:"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"id")," - ID code tracking."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"status")," - (string) the status to be given."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"timestamp")," - timestamp (in milliseconds)."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"location")," - the location where ",Object(r.b)("em",{parentName:"li"},"tracking")," is performed."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"readings")," - additional information about the product.")))),Object(r.b)("p",null,"To be able to ",Object(r.b)("em",{parentName:"p"},"update status"),", ",Object(r.b)("em",{parentName:"p"},"caller")," must have access as ",Object(r.b)("em",{parentName:"p"},"tracker")," assigned by the organization to the designated account. To give an access, you can use extrinsic function ",Object(r.b)("inlineCode",{parentName:"p"},"did.createDelegate")," of type ",Object(r.b)("inlineCode",{parentName:"p"},"ProductTracker")," that is located in module ",Object(r.b)("inlineCode",{parentName:"p"},"did"),". This access can be granted on a limited basis (with ",Object(r.b)("em",{parentName:"p"},"expiration time"),") or unlimited (without ",Object(r.b)("em",{parentName:"p"},"expiration time"),")."),Object(r.b)("h2",{id:"verification"},"Verification"),Object(r.b)("p",null,"Verifying is possible by doing ",Object(r.b)("em",{parentName:"p"},"query")," using the function ",Object(r.b)("em",{parentName:"p"},"query")," ",Object(r.b)("inlineCode",{parentName:"p"},"productTracking.tracking(ID)"),". This function can be used to get detailed tracking data that contain ",Object(r.b)("em",{parentName:"p"},"metadata")," and a list of included product IDs."),Object(r.b)("p",null,"Meanwhile, to get the ",Object(r.b)("em",{parentName:"p"},"events")," that occur in the ",Object(r.b)("em",{parentName:"p"},"tracking")," object, you can use the function ",Object(r.b)("em",{parentName:"p"},"query")," ",Object(r.b)("inlineCode",{parentName:"p"},"productTracking.eventsOfTracking(ID)"),". The function only returns the ID of the event.\nTo get the details of the event, you can ",Object(r.b)("em",{parentName:"p"},"query")," using the function\n",Object(r.b)("inlineCode",{parentName:"p"},"productTracking.eventByIdx(IDX)"),"."),Object(r.b)("h2",{id:"notifications"},"Notifications"),Object(r.b)("p",null,"Nuchain can send real-time notifications out of the network (",Object(r.b)("em",{parentName:"p"},"off-chain"),") using\n",Object(r.b)("em",{parentName:"p"},"Web hook")," for every ",Object(r.b)("em",{parentName:"p"},"event")," that occurs on ",Object(r.b)("em",{parentName:"p"},"tracking")," on the ",Object(r.b)("em",{parentName:"p"},"blockchain")," network."),Object(r.b)("p",null,"Nuchain uses ",Object(r.b)("em",{parentName:"p"},"Off-chain Worker")," for this purpose."),Object(r.b)("h2",{id:"demo"},"Demo"),Object(r.b)("p",null,"Examples of the code can be found on Github\n",Object(r.b)("a",{parentName:"p",href:"https://github.com/nusantarachain/supplychain-sample-py"},"supplychain-sample-py"),"."))}l.isMDXComponent=!0}}]);